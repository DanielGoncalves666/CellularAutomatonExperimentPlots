# Cellular Automaton Experiment Plotter

This is a simple program designed to process and plot data generated by implementations of various Cellular Automaton models applied to pedestrian evacuation scenarios.

## Required Dependencies

To run the program, you need to install the `numpy` and `matplotlib` libraries, preferably in a Python virtual environment. You can create and activate the virtual environment and install the necessary packages by executing the `env_setup.sh` script.

## How to Run

To execute the program, use the command `python3 run.py` followed by the required options. For a list of all available options, run:

```shell
python3 run.py --help
```

### Input

The `-i` option is used to specify the name of the file containing the input data. 

### Output

The output will always be stored in the `out/` directory. You can specify the name of the output file using the `-o` option. If the `-o` option is not provided, a default name will be assigned to the output file.

### Title and axis labels

You can specify the title and labels for the x and y axes using the `-t`, `-x`, and `-y` options, respectively.

### Selecting the Graphic to be generated

The graphic that will be generated can be selected using the `-g` or `--graphic` options. For a list of all available graphics, run the program with `--help`.

#### Type of Graphic

To the graphics **alizadeh_evac_time** and **alizadeh_ped_distributin** the `--type` options allows to choose between a heatmap or a contour graphic. 

### Dealing with specific data

#### Single door rooms (on simulations that should be double)

The graphics **alizadeh_evac_time** and **alizadeh_ped_distribution** can receive data from simulations where a single door was used. In these cases, the `--ignore-marked-data` option will make the program ignore those values when calculating the minimum and maximum values. The minimum and maximum values affect the colorbar and the levels of the contour graphic.

#### Forcing over values

In some instances of the graphics generated by **alizadeh_evac_time** and **alizadeh_ped_distribution**, certain values may not be colored correctly on the contour graphics. In these cases, the `--force-over-values` option can be used to ensure they are properly colored.

## Program Architecture

The program is divided into three Python files. The `run.py` file contains the main code, where all necessary functions are called to generate the desired graphic.

### Processing module

The `processing.py` file contains functions responsible for reading the input file and calculating the necessary data to generate the graphics.

### Plotting module.py

The `plotting.py` file contains functions responsible for preparing and plotting the graphics.